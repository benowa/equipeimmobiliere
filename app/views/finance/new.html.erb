
  <% if flash[:alert] %>
    <p id="notice"><%= flash.now[:alert] %></p>
  <% end %>




<%= form_tag '', :method => :get, :id => "revenus_depenses"  do %>
    <fieldset>
        <legend>Revenus / Dépenses</legend>
        <div id="finance_left">
        <div class="clearfix">
          <label for="loyers_residentiels">Loyers Résidentiels:</label>
          <div class="input">
          <input class="xlarge span2" id="loyers_residentiels" name="loyers_residentiels" size="30" type="text" value="0">
          </div>
        </div>
        <div class="clearfix">
          <label for="loyers_commerciaux" >Loyers Commerciaux:</label>
          <div class="input">
          <input class="xlarge span2" id="loyers_commerciaux" name="loyers_commerciaux" size="30" type="text" value="0">
          </div>
        </div>
        <div class="clearfix">
          <label for="buanderie">Buanderie:</label>
          <div class="input">
          <input class="xlarge span2" id="buanderie" name="buanderie" size="30" type="text">
          </div>
        </div>
        <div class="clearfix">
          <label for="tationnements">Stationnements:</label>
          <div class="input">
          <input class="xlarge span2" id="stationnements" name="stationnements" size="30" type="text">
          </div>
        </div>
        <div class="clearfix">
          <label for="revenu_potentiel_brut">Revenu Potentiel Brut:</label>
          <div class="input">
          <input class="xlarge span2 disabled" id="revenu_potentiel_brut" name="revenu_potentiel_brut" size="30" type="text"  disabled/>
          </div>



        </div>

          <script>

             $("#revenus_depenses").change(function () {



             $("#revenus_depenses").validate( {

             rules: {

                   loyers_residentiels: {
                       required: true,
                       digits: true

                   },
                   buanderie: {
                       required: true,
                       digits: true

                   },
                   stationnements: {
                       required: true,
                       digits: true

                   },

                   loyers_commerciaux: {
                     required: true,
                     digits: true
                   }
               },
             messages: {
                   loyers_residentiels: {
                       required: "SVP entrez un nombre" ,
                       digits: "Seulement les nombres sont acceptés"
                    },
                    loyers_commerciaux: {
                        required: "SVP entrez un nombre" ,
                        digits: "Seulement les nombres sont acceptés"
                    },
                     buanderie: {
                       required: "SVP entrez un nombre" ,
                       digits: "Seulement les nombres sont acceptés"
                    },
                    stationnements: {
                        required: "SVP entrez un nombre" ,
                        digits: "Seulement les nombres sont acceptés"
                    }
             }

             });

               if  ($("#revenus_depenses").valid()){
                       var lc = parseInt($("#loyers_commerciaux").val());
                       var lr = parseInt($("#loyers_residentiels").val());
                       var bu = parseInt($("#buanderie").val());
                       var sta = parseInt($("#stationnements").val());

                      var ph = lc+lr+bu+sta;
                   $("#revenu_potentiel_brut").val( ph);

               } else{
                      var ph = "0"
                   $("#revenu_potentiel_brut").val( ph);

               }

                     });


                    </script>



        </div>
        <div id="finance_right">
        <div>
          <label for="f1">f1:</label>
          <%= text_field_tag :f1, params[:f1] %>
        </div>
        <div>
          <label for="f2">f2:</label>

          <%= text_field_tag :f2, params[:f2] %>
          <a href="#" class="btn danger" rel="popover" title="ce nombre" data-content="ce nombre est le calcul du revenu net">?</a>
          <script>
            $(function () {
              $("a[rel=popover]")
                .popover({
                  offset: 10
                })
                .click(function(e) {
                  e.preventDefault()
                })
            })
          </script>
        </div>
        <div>
          <label for="f3">f3:</label>
          <div class="input">
              <input class="xlarge span2" id="xlInput" name="xlInput" size="30" type="text">
          </div>
        </div>
        <div>
          <label for="f4">result:</label>
          <div class="input">
               <input class="xlarge span2" id="xlInput2" name="xlInput" size="30" type="text">
          </div>
        </div>



    </fieldset>
<% end %>




<%= render :partial => "clients/form", :object => @client %>